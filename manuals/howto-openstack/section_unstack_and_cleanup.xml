<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
 <!-- Some useful entities borrowed from HTML -->
<!ENTITY ndash  "&#x2013;">
<!ENTITY mdash  "&#x2014;">
<!ENTITY hellip "&#x2026;">
]>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="installing_from_zip">
    <title>Unstack and Cleanup DevStack</title>
    <para>Use the following to teardown the stack and reset the state of the VM to pre-stack.</para>
    <para>Running unstack.sh will kill the stack. Also, look at the OVS config and make sure all
        bridges have been deleted:</para>
    <para>
        <screen><command>sudo ovs-vsctl show</command></screen>
    </para>
    <para>A handy cleanup is to run a few commands to ensure the stack was effectively torn down.
        Paste the following to create a shell script called ./reallyunstack.sh. </para>
    <para>
        <screen><command>echo 'sudo killall nova-api nova-conductor nova-cert nova-scheduler nova-consoleauth nova-compute</command>
<command>sudo pkill -9 -f qemu</command>
<command>sudo  ovs - vsctl  del - manager</command>
<command>sudo  ovs - vsctl  del - br  br - int</command>
<command>sudo  ovs - vsctl  del - br  br - tun</command>
<command>sudo  pkill / usr / bin / python</command>
<command>sudo  systemctl  restart  qpidd .service ' &amp; gt ; reallyunstack .sh</command>
<command>chmod + x reallyunstack .sh</command>
<command>. / reallyunstack .sh</command></screen>
    </para>
  </section>
