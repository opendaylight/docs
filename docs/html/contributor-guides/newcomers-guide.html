
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Newcomers Guide &#8212; OpenDaylight Documentation Chromium documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.2/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/ribbon.css?v=cb953b18" />
    <link rel="stylesheet" href="../_static/css/warning-header.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=7b4a4459"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="https://cdn.datatables.net/1.11.2/js/jquery.dataTables.min.js"></script>
    <script class="init" type="text/javascript">$(document).ready( function () { $('table.datatable').DataTable(); } );</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Coding Guidelines" href="coding-guidelines/index.html" />
    <link rel="prev" title="Contributor Guides" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>
  <div class="ribbon">
    <a href="https://jira.opendaylight.org/secure/CreateIssueDetails!init.jspa
?pid=10121
&issuetype=10104
&components=10228
&priority=2
&description=version:+Chromium%0Apage:+contributor-guides/newcomers-guide%0A%0A" target="_blank">
      Report Issue
    </a>
  </div>
  

<div id="navbar" class="navbar navbar-default navbar-fixed-top">
  <!-- Outdated version warning banner -->
  
    <style>
      body {
        padding-top: 60px;
     }
    </style>
  
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          OpenDaylight Documentation</a>
        <span class="navbar-text navbar-version pull-left"><b>Chromium</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../downloads.html">OpenDaylight Downloads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started-guide/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guides/index.html">Developer Guides</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">Documentation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-process/index.html">OpenDaylight Release Process Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javadoc.html">Java API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">OpenDaylight User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guides/index.html">Developer Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributor Guides</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Newcomers Guide</a><ul>
<li><a class="reference internal" href="#what-is-gerrit">What is Gerrit ?</a></li>
<li><a class="reference internal" href="#guidelines-and-practical-advice">Guidelines and practical advice</a><ul>
<li><a class="reference internal" href="#clone-a-project-repository-and-get-a-local-copy-of-the-code">clone a project repository and get a local copy of the code</a></li>
<li><a class="reference internal" href="#prepare-a-change">prepare a change</a></li>
<li><a class="reference internal" href="#upload-a-change">Upload a Change</a></li>
<li><a class="reference internal" href="#check-your-change-on-gerrit">Check your change on Gerrit</a></li>
<li><a class="reference internal" href="#upload-a-new-patch-set">Upload a new Patch Set</a></li>
<li><a class="reference internal" href="#submitting-simultaneously-several-changes-for-review">Submitting simultaneously several changes for review</a></li>
<li><a class="reference internal" href="#modify-several-changes">Modify several changes</a></li>
<li><a class="reference internal" href="#cherry-picks-back-ports">Cherry-picks / back-ports</a></li>
<li><a class="reference internal" href="#resolving-conflicts">Resolving conflicts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#opendaylight-and-common-best-practices">OpenDaylight and common Best Practices</a><ul>
<li><a class="reference internal" href="#implicit-rules">Implicit rules</a></li>
<li><a class="reference internal" href="#coding-guidelines-and-common-issues">Coding Guidelines and common issues</a><ul>
<li><a class="reference internal" href="#commit-message">Commit message</a></li>
<li><a class="reference internal" href="#files-formatting">Files formatting</a></li>
<li><a class="reference internal" href="#license-issues">License issues</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Newcomers Guide</a><ul>
<li><a class="reference internal" href="#what-is-gerrit">What is Gerrit ?</a></li>
<li><a class="reference internal" href="#guidelines-and-practical-advice">Guidelines and practical advice</a><ul>
<li><a class="reference internal" href="#clone-a-project-repository-and-get-a-local-copy-of-the-code">clone a project repository and get a local copy of the code</a></li>
<li><a class="reference internal" href="#prepare-a-change">prepare a change</a></li>
<li><a class="reference internal" href="#upload-a-change">Upload a Change</a></li>
<li><a class="reference internal" href="#check-your-change-on-gerrit">Check your change on Gerrit</a></li>
<li><a class="reference internal" href="#upload-a-new-patch-set">Upload a new Patch Set</a></li>
<li><a class="reference internal" href="#submitting-simultaneously-several-changes-for-review">Submitting simultaneously several changes for review</a></li>
<li><a class="reference internal" href="#modify-several-changes">Modify several changes</a></li>
<li><a class="reference internal" href="#cherry-picks-back-ports">Cherry-picks / back-ports</a></li>
<li><a class="reference internal" href="#resolving-conflicts">Resolving conflicts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#opendaylight-and-common-best-practices">OpenDaylight and common Best Practices</a><ul>
<li><a class="reference internal" href="#implicit-rules">Implicit rules</a></li>
<li><a class="reference internal" href="#coding-guidelines-and-common-issues">Coding Guidelines and common issues</a><ul>
<li><a class="reference internal" href="#commit-message">Commit message</a></li>
<li><a class="reference internal" href="#files-formatting">Files formatting</a></li>
<li><a class="reference internal" href="#license-issues">License issues</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<center>
<div class="btn-group" role="group" aria-label="...">
    
    <a class="btn btn-default" href="index.html">Prev Page</a>
    

    
    <a class="btn btn-default" href="coding-guidelines/index.html">Next Page</a>
    
</div>
</center>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="newcomers-guide">
<h1>Newcomers Guide<a class="headerlink" href="#newcomers-guide" title="Link to this heading">¶</a></h1>
<section id="what-is-gerrit">
<h2>What is Gerrit ?<a class="headerlink" href="#what-is-gerrit" title="Link to this heading">¶</a></h2>
<p>The Linux Foundation proposes a LF Gerrit Guide at this URL:
<a class="reference external" href="https://docs.releng.linuxfoundation.org/en/latest/gerrit.html">https://docs.releng.linuxfoundation.org/en/latest/gerrit.html</a> Please
look at it.</p>
<p>You can find more details on Gerrit by itself at
<a class="reference external" href="https://gerrit-review.googlesource.com/Documentation/intro-quick.html">https://gerrit-review.googlesource.com/Documentation/intro-quick.html</a></p>
<p>Gerrit is a web-based code review tool built on top of the Git version
control system. Gerrit makes code review easier by providing a
lightweight framework for reviewing commits before they are accepted by
the codebase i.e. project committers.</p>
<p>If you are not familiar with Git, please look at the <a class="reference external" href="https://docs.releng.linuxfoundation.org/en/latest/git.html">LFN Git guide</a>.</p>
<p>Gerrit uses massively git hooks. Git hooks are commands and scripts to
add automatically specific treatments in git basic commands. <strong>The main
hook treatment provided by Gerrit is to add a “Change-Id” tag to all
commit messages. This “Change-Id” allows Gerrit to link together
different versions of the same change being reviewed.</strong></p>
<p>If you want to look at the hooks contents, you can retrieve them
manually on the Gerrit git server with those commands.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ scp -p -P 29418 &lt;login&gt;@git.opendaylight.org:hooks/commit-msg RecipeBook/.git/hooks/
$ chmod u+x .git/hooks/commit-msg
</pre></div>
</div>
<p>Most of the time, retrieving hooks manually is useless since they are
automatically invoked by git commands. With Gerrit, it is also much
easier to use git-review that invokes those hooks. <strong>Git-review is a
tool that helps submitting git branches to Gerrit for review, this means
it can supersede the usual git fetch, git pull and git push commands.</strong>
The git-review package is available on most GNU/Linux distribution.</p>
<p><strong>In Gerrit, several ongoing-review branches or “changes” can coexist
without conflicts until they are merged to a mainstream branch (usually
the master).</strong> This way, several paths for the project can be explored
simultaneously even if they implement a same feature. However, if a
change is getting too old, it may become impossible to merge because the
mainstream branch has evolved too much meanwhile. In that case, you have
to rebase the change on the mainstream branch and resolve potential
conflicts before it can be merged.</p>
</section>
<section id="guidelines-and-practical-advice">
<h2>Guidelines and practical advice<a class="headerlink" href="#guidelines-and-practical-advice" title="Link to this heading">¶</a></h2>
<section id="clone-a-project-repository-and-get-a-local-copy-of-the-code">
<h3>clone a project repository and get a local copy of the code<a class="headerlink" href="#clone-a-project-repository-and-get-a-local-copy-of-the-code" title="Link to this heading">¶</a></h3>
<p><em>To access OpenDaylight repository, you need a Linux Foundation ID to log in.</em>
This can be done at <a class="reference external" href="https://identity.linuxfoundation.org/">this URL</a>.</p>
<p><em>Once that done, you need to generate your SSH keys pair and publish
your public on your ODL Gerrit account as described in</em> <a class="reference external" href="https://git.opendaylight.org/gerrit/Documentation/user-upload.html#ssh">this link</a>.</p>
<p>To clone the current master branch of a project</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git clone ssh://&lt;login&gt;@git.opendaylight.org:29418/&lt;project_name&gt;
</pre></div>
</div>
<p>To clone another mainstream branch</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git clone -b &lt;branch_name&gt; ssh://&lt; login &gt;@git.opendaylight.org:29418/&lt;project_name&gt;
</pre></div>
</div>
<p>for example the magnesium branch of the documentation project</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git clone -b stable/magnesium ssh://my_login@git.opendaylight.org:29418/docs
</pre></div>
</div>
<p>at that step, it is usually a good idea to run the setup commands of the repository
with git-review</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ cd docs/
$ git-review -s
</pre></div>
</div>
<p>If needed, a particular change (i.e. a specific branch used for
staging reviews before they are merged to the master branch or another
mainstream branch) can be retrieved by using git-review</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git-review -d &lt;change_number&gt;
</pre></div>
</div>
<p>This will create another local repository along the master branch copy. You
can use git branch to verify it.</p>
</section>
<section id="prepare-a-change">
<h3>prepare a change<a class="headerlink" href="#prepare-a-change" title="Link to this heading">¶</a></h3>
<p>Once you have a local copy of the repository, you can make your modifications.
Please follow the best practices given below and in <a class="reference internal" href="coding-guidelines/index.html#coding-guidelines"><span class="std std-ref">Coding Guidelines</span></a>.
Remember to check what you have done.</p>
<p><strong>Be particularly careful to the license headers, the trailing blanks, the empty
lines and do not use the MSDOS file format but the UNIX file format.
Try also to remove compilation warnings.</strong></p>
<p>If you are using an IDE , it can be a good idea to use an editor profile that
implements those rule such as the Eclipse profile in this <a class="reference external" href="https://wiki-archive.opendaylight.org/images/c/ca/Profile-Java-ODL.xml.zip">link</a>.</p>
<p>Since ODL compilation process is particularly verbose, consider using
compilation logs file or piped commands such as:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ time mvn clean install -DskipTests 2&gt;&amp;1 |tee mvn.log.0 |grep ‘WARN\|ERROR’
</pre></div>
</div>
<p>If you propose an update for an existing feature with tests already available,
it is a good idea to perform these tests ( e.g. “$ tox -e pre-commit”) and see
what happens. Available tests can often be found in the <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> file at the root
of the project folder.</p>
<p>Once ready, use git status to check the staging files.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
<p>If you want to commit all your changes, you can skip the next 2 steps and
use directly “$ git commit” with the option “-a”</p>
<p>If not, add the right files to your commit.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git add [ … ]
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You might want to remove some files from the remote repository in this
commit.
In that case, you should use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rm</span></code> instead of only <code class="docutils literal notranslate"><span class="pre">rm</span></code>.</p>
<p>The same way, use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">mv</span></code> if you want to rename or move a file in the
remote repository too.</p>
</div>
<p>It is a good idea to check again your git status    before committing.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git status
</pre></div>
</div>
<p>Then commit and add a commit message. Using “-s” to sign-off your commit
is usually a good idea.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git commit -s
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please abide by the commit messages rules given below and at <a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages">the openStack wiki</a>.</p>
<p>Be careful with the title length (50 char), the empty line after the title,
and the body length (72 char).</p>
<p>If your commit includes work from other contributors, do not hesitate to use
the “co-authored-by” tag.</p>
<p>If you are not the author of the changes, you can upload it although but you
should use the option “–author=” with “git-commit”</p>
<p>Contributors must agree with <a class="reference external" href="../_static/OpenDaylight-Technical-Charter-LFN-Projects-LLC-FINAL.pdf">the OpenDaylight Technical charter</a>.
The sign-off field is related to the role of the Certificate of Origin
explained in this charter.</p>
</div>
<p>At that step, you can still rework your modifications and include more
files with “git add”.
In that case, amend the commit after with the command.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git commit --amend
</pre></div>
</div>
<p>This command also allows you to rework your commit message too.</p>
</section>
<section id="upload-a-change">
<h3>Upload a Change<a class="headerlink" href="#upload-a-change" title="Link to this heading">¶</a></h3>
<p>Uploading a change to Gerrit is done by pushing a git commit to the
Gerrit origin server. The commit must be pushed to a ref in the
refs/for/ namespace which defines the target branch: refs/for/&lt;
target-branch &gt;. The magic refs/for/ prefix allows Gerrit to
differentiate commits that are pushed for review from commits that are
pushed directly into the repository, bypassing code review (this is
usually a bad idea). For the target branch it is sufficient to specify
the short name, e.g. master, but you can also specify the fully
qualified branch name, e.g. refs/heads/master.</p>
<p>Push for Code Review</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git commit
$ git push origin HEAD:refs/for/master

// this is the same as:
$ git commit
$ git push origin HEAD:refs/for/refs/heads/master
</pre></div>
</div>
<p>It is easier to use the equivalent git-review commands.
The -T option allows to avoid sending the local branch name as default topic.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git-review -T
</pre></div>
</div>
<p>If you want to upload it on another mainstream branch for review, you
can add the branch name at the end.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git-review -T &lt;branch_name&gt;
</pre></div>
</div>
<p>for example magnesium</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git-review -T stable/magnesium
</pre></div>
</div>
<p>It is also sometimes possible to push commits with bypassing Code Review.
Beware this is usually a bad idea !</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git commit
$ git push origin HEAD:master

// this is the same as:
$ git commit
$ git push origin HEAD:refs/heads/master
</pre></div>
</div>
</section>
<section id="check-your-change-on-gerrit">
<h3>Check your change on Gerrit<a class="headerlink" href="#check-your-change-on-gerrit" title="Link to this heading">¶</a></h3>
<p>Each file added, modified, moved, renamed or deleted will be listed in the
Gerrit page displaying your change.
If you click on a file name, the differences with the previous version of the
file will be displayed.
Main common errors such as trailing blanks usually appears in red.
Please check every file and list those common errors. Then (or in
parallel) you can go to the next steps and correct them quickly. This is
a good idea to do it before asking other people to review your change in
Gerrit.</p>
</section>
<section id="upload-a-new-patch-set">
<h3>Upload a new Patch Set<a class="headerlink" href="#upload-a-new-patch-set" title="Link to this heading">¶</a></h3>
<p>If there is feedback from code review and a change should be improved,
a new patch set with the reworked code should be uploaded.</p>
<p>This is done by amending the commit of the last patch set.</p>
<p><em>If you have no more a local copy of your change, you can use “git
clone” and “git-review -d” to retrieve it (just as described in the
first section “</em>
The commit can also be fetched from Gerrit by using the fetch commands
available from the download commands in the change screen (right top corner).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>// fetch and checkout the change
// (checkout command can be copied from change screen, right top corner in download)
$ git fetch &quot;https://git.opendaylight.org/gerrit/docs&quot; refs/changes/86/93386/2
  &amp;&amp; git checkout FETCH_HEAD

// or with git-review
$ git-review -d 93386
// provided 2 is the latest Patch Set, otherwise if there is a Patch Set 3,
$ git-review -d 93386,2
// specifying a Patch-Set number only works with newer git-review versions
</pre></div>
</div>
<p>Then you can start working on it just as you will do for a new commit with
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add/rm/mv</span></code> etc.
Once ready, instead of simply doing <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-s</span></code>
type instead <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>// rework the change
$ git add &lt; path-of-reworked-file &gt; [ … ]

// amend commit
$ git commit --amend

// push patch set
$ git push origin HEAD:refs/for/master
// or with git-review
$ git-review -T
</pre></div>
</div>
<p>It is important that the commit message contains the Change-Id of the
change that should be updated as a footer (last paragraph). Normally the
commit message already contains the correct Change-Id and the Change-Id
is preserved when the commit is amended.</p>
<p>Thanks to the Change-Id in the commit message, Gerrit will detect that
the change was already there and that you want to create a new Patch Set
to amend it. The new Patch Set should now appear in the Gerrit web
interface.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Never amend a commit that is already part of a central branch.</p>
<p>Pushing a new patch set will trigger an email notification to the reviewers
who subscribed to the project notifications.</p>
<p>The option -T is used to avoid adding a topic to the change. If no topic
is specified, git-review will add the change number or the local branch name
as a topic in Gerrit web interface.
You can force another topic with the -t option.</p>
</div>
</section>
<section id="submitting-simultaneously-several-changes-for-review">
<h3>Submitting simultaneously several changes for review<a class="headerlink" href="#submitting-simultaneously-several-changes-for-review" title="Link to this heading">¶</a></h3>
<p>Sometimes, it can be interesting to push simultaneously several
interdependent changes for review. This can be done this way.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git add […]

$ git commit -s

[ … ]

$ git add […]

$ git commit -s

$ git-review
</pre></div>
</div>
<p>Here is a simple example that modifies an existing change and proposes a new
change on top of it.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git clone https://git.opendaylight.org/gerrit/docs
$ git-review -s
$ git-review -d 93386

// rework the change 93386
[..]
$ git add &lt; path-of-reworked-file &gt; [ … ]

// amend commit
$ git commit –amend

// add a new change/commit
$ git add &lt; path-of-worked-file &gt; [ … ]
// add a new commit
$ git commit

// repeat the operation as much time as necessary
[..]

// upload the changes to Gerrit
$ git-review -T
</pre></div>
</div>
<p>git-review usually displays a warning and ask confirmation when doing this.
The option -y avoids this message.</p>
<p>If the changes are accepted, the Gerrit web interface will display information
a.k.a. relation chain on changes submitted together when looking at one of them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When cascading more changes, the first call “git-review” may fail
because of the absence of a Change-Id in the git commit message logs.</p>
<p>Retry “git-review” in that case or try to run git hook manually to
modify the git log history (not so easy).</p>
<p>If you do not have Gerrit git hooks pre-installed, this only works for the
absence of Change-Id in the last commit.
In that case, you can use interactive rebase with reword to edit the N
previous commit messages (“git-rebase -i HEAD~N”).</p>
</div>
</section>
<section id="modify-several-changes">
<h3>Modify several changes<a class="headerlink" href="#modify-several-changes" title="Link to this heading">¶</a></h3>
<p>While they have not been merged in the remote repository, it is still possible
to rework the changes that were posted simultaneously. If you have no more
a local copy of them, just retrieve the latest change in you git history
from the Gerrit remote repository. Check the history with</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git log
</pre></div>
</div>
<p>It should display all the commits posted.</p>
<p><em>“git commit –amend”</em> only allows to rework the last commit. You must
use another method to rework the previous commits.</p>
<p>The easiest way to do that is to use interactive rebase 2 syntaxes can
be used:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git rebase -i &lt; commit &gt;
</pre></div>
</div>
<p>where is the commit hash reference used by “git log”</p>
<p>or</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git rebase -i HEAD~&lt; number of commits &gt;
// e.g. to rework the five previous commits
$ git rebase-i HEAD~5
</pre></div>
</div>
<p>you should now see commits short descriptions in a text editor (usually
vim) It should look like this.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pick 239da71 Renderer and OLM update
pick f85398e Bugs correction in Portmapping
pick 6cb0144 Minor checkstyle corrections
pick e51e0b9 Network topology and inventory init
pick f245366 Bugs correction in NetworkModelService

# Rebase afe9fcf..f245366 onto afe9fcf
#
# Commands:
#  p, pick = use commit
#  r, reword = use commit, but edit the commit message
#  e, edit = use commit, but stop for amending
#  s, squash = use commit, but meld into previous commit
#  f, fixup = like &quot;squash&quot;, but discard this commit&#39;s log message
#  x, exec = run command (the rest of the line) using shell
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
#
# Note that empty commits are commented out
</pre></div>
</div>
<p>The editor allows you to proceed to several actions on the git history:</p>
<ul class="simple">
<li><p>remove a commit from the history: just delete its line</p></li>
<li><p>rework dependencies: swap line orders</p></li>
<li><p>meld several commits into one: replace <code class="docutils literal notranslate"><span class="pre">pick</span></code> by <code class="docutils literal notranslate"><span class="pre">squash</span></code> or <code class="docutils literal notranslate"><span class="pre">fixup</span></code></p></li>
<li><p>rework only a specific commit message: replace <code class="docutils literal notranslate"><span class="pre">pick</span></code> by <code class="docutils literal notranslate"><span class="pre">reword</span></code></p></li>
<li><p>rework a specific commit: replace <code class="docutils literal notranslate"><span class="pre">pick</span></code> by <code class="docutils literal notranslate"><span class="pre">edit</span></code> then <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add/rm/mv</span> <span class="pre">…</span></code>,
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">--continue</span></code></p></li>
</ul>
<p>Beware you may have to deal with potential conflicts when doing this.</p>
<p>Note that alternate methods exist.
For example, you can use cherry-picks described in the next section.
You can also use non-interactive git rebase , i.e without the option “-i”.
But you must keep a copy of the original “git log” history.
Most people create a new local branch with a copy via “git checkout -b” to that
purpose.
Once the copy made, use</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git checkout &lt;commit_hash&gt;
</pre></div>
</div>
<p>where &lt; commit_hash &gt; is the hash of a previous commit, let’ say N
commits before the last one. Do your modifications:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git add/rm/mv […]
$ git commit --amend
</pre></div>
</div>
<p>A new commit hash (<code class="docutils literal notranslate"><span class="pre">&lt;newhash&gt;</span></code>) will be generated. Keep it.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git checkout &lt;commit_hash-1&gt;
</pre></div>
</div>
<p>where &lt; commit_hash-1 &gt; is the hash of the previous commit, N-1 commits
before the last one. If you look at “git log”, the history has not
changed and the old hash is still there. you need to rebase to apply the
modifications made in the previous commit.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git log
$ git rebase &lt;newhash&gt;
$ git log
</pre></div>
</div>
<p>Conflicts may appear but should be solvable. Proceed the same way with
the N-2 previous commits up to the last commit. Then upload</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git-review
</pre></div>
</div>
</section>
<section id="cherry-picks-back-ports">
<h3>Cherry-picks / back-ports<a class="headerlink" href="#cherry-picks-back-ports" title="Link to this heading">¶</a></h3>
<p>Cherry-pick consist in importing the content of a specific change (or
commit) from another (review) branch into your own local branch.</p>
<p>The basic git cherry-pick method is described in the <a class="reference external" href="https://docs.releng.linuxfoundation.org/en/latest/git.html#cherry-pick-a-commit">LFN Git Guide</a>.</p>
<p>The principle remains the same with Gerrit but you have to deal with the
Gerrit branch review system. You can use the “git cherry-pick” classical
command. In that case, you’d better to copy/paste it from the right-top
corner of the change review page. The easiest option is to use
git-review with the option “-x” instead.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git-review -x &lt; change_number &gt;&quot;
</pre></div>
</div>
<p><em>You can use also “-X” to keep a trace of the cherry-pick operation in
the git log. The “-N” option prepare the cherry-pick but the commit
message is not imported.</em></p>
<p>Several cherry-picks can be cascaded this way.</p>
<p>Once the change appears in your local branch, you can upload it to the
Gerrit remote repository as usual with git-review.</p>
<p>Cherry-pick can also be used to back-port changes between several
mainstream branches of the Gerrit remote repository. The procedure is the
same. Here is an example.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git clone -b stable/aluminium ssh://&lt; login &gt;@git.opendaylight.org:29418/docs
$ git-review -x 94257
//Change 94257 is on the magnesium branch and not the aluminium branch
$ git-review [–P] [stable/aluminium]
</pre></div>
</div>
</section>
<section id="resolving-conflicts">
<h3>Resolving conflicts<a class="headerlink" href="#resolving-conflicts" title="Link to this heading">¶</a></h3>
<p>Conflict resolution in Gerrit is not different from Git.
You can also refer to the <a class="reference external" href="https://docs.releng.linuxfoundation.org/en/latest/git.html#git-merge-conflicts">LFN Git Guide</a>.</p>
<p>Conflict can occur during Git merge, push or rebase operations.</p>
<p>For example, if two or more members make changes on the same part of a file in a
remote and a local branch that are being merged, Git will not be able to
automatically merge them and you will get a merge conflict. When this
happens, conflicting files will be listed in the resulting messages as
in the example below.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ git merge issue3
Auto-merging my_shopping_list.txt CONFLICT (content): Merge conflict in my_shopping_list.txt
Automatic merge failed; fix conflicts and then commit the result.
</pre></div>
</div>
<p>And Git will add some standard conflict-resolution markers to those
conflicting files. The markers act as an indicator to help us figure out
sections in the content of the conflicting file that needs to be
manually resolved.</p>
<p>Example of a conflict occurrence</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>My Shopping list

Apples
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Bread
Pancakes
=======
Banana
Soda
&gt;&gt;&gt;&gt;&gt;&gt;&gt; issue3
Tomatoes
</pre></div>
</div>
<p>Each conflicting section in the file is delimited by lines alike
“&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD” and “&gt;&gt;&gt;&gt;&gt;&gt;&gt; issue3” .
When merging remote code into your local branch, everything above “ ======== ”
is your local content, and everything below it comes from the remote branch.
Before going further, we need to resolve the conflicting parts and removes those
markers as shown in the example below.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>My Shopping list

Apples
Banana
Bread
Pancakes
Soda
Tomatoes
</pre></div>
</div>
<p>Once we are done with resolving the conflict, you can commit the change
(git commit -m) , or pursue a rebase if you were in a rebasing process.</p>
</section>
</section>
<section id="opendaylight-and-common-best-practices">
<h2>OpenDaylight and common Best Practices<a class="headerlink" href="#opendaylight-and-common-best-practices" title="Link to this heading">¶</a></h2>
<p>All details on OpenDaylight best practices are available at
<a class="reference external" href="https://wiki-archive.opendaylight.org/view/BestPractices">this URL on the old wiki</a>.</p>
<section id="implicit-rules">
<h3>Implicit rules<a class="headerlink" href="#implicit-rules" title="Link to this heading">¶</a></h3>
<p><strong>The first rule is that the author or at least the owner(=uploader) of
the change is responsible for the code posted on the Gerrit server.
This means that the author or the owner has to be responsive to questions
in Gerrit comments.</strong>
This is especially important for adaptations asked by committers.
Committers are in charge of making the mainstream branch clean and conform to
the project rules before merging it in the mainstream branch.
Other reviews from non-committers are also welcome.</p>
<p>It may sound a little awkward but <strong>many developers consider a “-1” review as
good news as a “+1” review .Both mean someone has looked at their code and
posted useful comments, potentially reusable elsewhere.</strong></p>
<p>There can be several interpretations of what to do in some case and Gerrit
comments can be very useful to clarify points in case of disagreements.
If possible, the change uploader or owner must be the code author so that the
review is more interactive and responsive.</p>
<p><strong>The second rule is to keep the code posted reviewable. The change
should not bring regression nor new compilation errors and warnings.</strong>
It is a good idea to look at the Gerrit interface editor once your code
has been posted for review. Most common errors such as trailing blanks are
colored in red.
Those errors pollutes the review process, not only because they generate many
warnings during the compilation process.
Posting a quick fix for those most common issues in a new Patch Set will ease
the reviewers and committers work.
If you are not confident of what you have done, you can test your change in
Gerrit by using the private  before making it public or by using the
Work-in-Progress mode to clearly state it is an ongoing work.</p>
<p><strong>Huge amounts of code are also generally difficult to review. Gerrit
changes dashboard has a size indicator on the right.</strong>
There is no strict rule about this but if you receive a XL size, you probably
should consider to split your change into several smaller ones.</p>
</section>
<section id="coding-guidelines-and-common-issues">
<h3>Coding Guidelines and common issues<a class="headerlink" href="#coding-guidelines-and-common-issues" title="Link to this heading">¶</a></h3>
<p>More details at <a class="reference internal" href="coding-guidelines/index.html#coding-guidelines"><span class="std std-ref">Coding Guidelines</span></a>.</p>
<section id="commit-message">
<h4>Commit message<a class="headerlink" href="#commit-message" title="Link to this heading">¶</a></h4>
<p>More details at <a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages">https://wiki.openstack.org/wiki/GitCommitMessages</a></p>
<p><strong>The commit message should reflect the feature or improvements posted
in the change.</strong> The message must give a good idea of what have been
done. <strong>It must be understood by anybody with a sufficient knowledge on
the topic, not necessarily someone taking part to the project.</strong>
External references are welcome to point out to more details, but they
should not be a substitute to a correct description.</p>
<p>Here is a summary of Git commit message structure as described in
<a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages#Summary_of_Git_commit_message_structure">the OpenStack wiki</a>.</p>
<ul class="simple">
<li><p>Provide a brief description of the change in the first line.</p></li>
<li><p>Insert a single blank line after the first line.</p></li>
<li><p>Provide a detailed description of the change in the following lines,
breaking paragraphs where needed.</p></li>
<li><p>The first line should be limited to 50 characters and should not end
with a period.</p></li>
<li><p>Subsequent lines should be wrapped at 72 characters. There are some
exceptions to this rule: for example, URL should not be wrapped. Vim
(the default $EDITOR on most distributions) can wrap automatically lines
for you. In most cases you just need to copy the example <code class="docutils literal notranslate"><span class="pre">vimrc</span></code> file
(which can be found somewhere like <cite>̀ /usr/share/vim/vim74/vimrc_example.vim`</cite>)
to <code class="docutils literal notranslate"><span class="pre">~/.vimrc</span></code> if you don’t have one already.
After editing a paragraph, you can re-wrap it by pressing escape,
ensuring the cursor is within the paragraph and typing <code class="docutils literal notranslate"><span class="pre">gqip</span></code>.
Put the ‘Change-id’, ‘Closes-Bug #NNNNN’ and ‘blueprint
NNNNNNNNNNN’ lines at the very end.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is common practice across many open source projects using Git
to include a one or several “Signed-off-by” tags (generated by ‘git
commit -s’).
If the change has several authors, you are encouraged to use the
‘Co-authored-by’ tag.
Relate tickets, tasks and bug issues are pointed in the commit message using
the JIRA tag.</p>
</div>
</section>
<section id="files-formatting">
<h4>Files formatting<a class="headerlink" href="#files-formatting" title="Link to this heading">¶</a></h4>
<p><strong>Files posted for review should use the UNIX/linux file format.</strong>
This means that their line terminator is “\n” aka LF or LineFeed.
<strong>Other format such as MSDOS (with “\rn” aka CRLF aka Carriage Return Line
Feed terminators) should be avoided.</strong>
Encoding formats commonly accepted are Unicode and ASCII.</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">file</span></code> GNU command to check the actual status of your
files.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ file *
activate-projects-rtd-branch.sh: Bourne-Again shell script, ASCII text executable
branch-cutting-checklist.txt:    ASCII text
ci-requirements.txt:             ASCII text
docs:                            directory
find_bad_words.sh:               ASCII text
INFO.yaml:                       ASCII text
README.md:                       ASCII text
tox.ini:                         ASCII text
web:                             directory
</pre></div>
</div>
<p>and combine it with <code class="docutils literal notranslate"><span class="pre">find</span></code> and <code class="docutils literal notranslate"><span class="pre">xargs</span></code> + <code class="docutils literal notranslate"><span class="pre">grep</span></code> to detect MSDOS file</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ find . | xargs file | grep CRLF
 ./tox.ini:  ASCII text, with CRLF line terminators
 ./docs/make.bat:  DOS batch file, ASCII text, with CRLF line terminators
</pre></div>
</div>
<p>then create a script with <code class="docutils literal notranslate"><span class="pre">sed</span></code> to remove the “\r” special character and
convert them in the UNIX format.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ find . | xargs file | grep CRLF  |grep -v make.bat | cut -d’:’ -f1 | xargs sed -i &#39;s/\\r//&#39;
</pre></div>
</div>
<p>More easily, the vim editor can convert MSDOS file to UNIX format with
<code class="docutils literal notranslate"><span class="pre">:set</span> <span class="pre">ff=unix</span></code> If you are on windows, do not use notepad since it only
uses the MSDOS format. Consider using <code class="docutils literal notranslate"><span class="pre">textpad++</span></code> or another advanced
editor.</p>
<p><strong>The ODL Java style guide limits the Java files line length to 120
characters and 72 or 80 chars for javadoc.</strong> It prohibits also the use
of tabs. They should be replaced with 4 white-spaces. Below is a shell
script to automate the operation inside a folder.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ for file in * ; do sed -i &#39;s/\\t/ /g&#39; $file; done
</pre></div>
</div>
<p>Trailing blanks should be avoided too. Below is a shell script to remove
trailing white-spaces inside a folder.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ for file in * ; do sed -i &#39;s/ \*//&#39; $file;done
</pre></div>
</div>
<p>Useless empty lines must also be avoided.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using an operating system with a different default version of
<code class="docutils literal notranslate"><span class="pre">sed</span></code> than GNU <code class="docutils literal notranslate"><span class="pre">sed</span></code>, for example BSD <code class="docutils literal notranslate"><span class="pre">sed</span></code> on MAC OS X, you must adapt
the examples given here since the -i option takes a mandatory parameter.</p>
</div>
</section>
<section id="license-issues">
<h4>License issues<a class="headerlink" href="#license-issues" title="Link to this heading">¶</a></h4>
<p>The EPL license or a compatible license should be present on all
projects code file in the header. The maven java Checkstyle plugin will
check the presence of this license.</p>
<p>More details in the <a class="reference internal" href="coding-guidelines/index.html#coding-guidelines"><span class="std std-ref">Coding Guidelines</span></a>.</p>
<p>License issues are considered particularly sensible by the open-source communities.</p>
</section>
</section>
</section>
</section>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/contributor-guides/newcomers-guide.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2016-2026, OpenDaylight Project.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>